---
title: "2024.3"
linkTitle: "2024.3"
date: 2024-03-04
author: Paul Arnold ([@paulmarnold](https://twitter.com/paulmarnold))
---

## Summary

The 2024.3 [Fast Track][] release is now available.

## Download Artefacts

Installation artefacts can be requested by raising a case in the [{{% ctx %}} Service Portal][].

## Release Notes

### Overview

2024.3 is the next [Fast Track][] release of the of {{% ctx %}} and continues our journey to improve on the previous 7.X generation in the following areas:

* TODO
* Capability
* Security
* Observability
* Documentation

Platform Upgrades

* Upgrading single node
* Upgrading multiple node
* Upgrading flows
* Grafana/loki upgrade

This release shows [performance improvements][] in a number of areas:

* Caching has been added to Provisioning service in order to reduce the number of messages sent throughout the HA Platform
* LoadBalancer HealthCheck improvements
* Add trigger service HealthCheck to LoadBalancer when provisioning the trigger service

Logging within the [HA Platform][] has been improved in a number of ways:

* TODO

Platform Security

* Remove plaintext password from getLDAPConnection response - https://dev.azure.com/CortexIntelligentAutomation/Cortex/_backlogs/backlog/All%20Teams/Epics?showParents=true&workitem=14500

Block Redesign

* https://dev.azure.com/CortexIntelligentAutomation/Cortex/_backlogs/backlog/All%20Teams/Epics?showParents=true

Other

TODO - https://dev.azure.com/CortexIntelligentAutomation/Cortex/_backlogs/backlog/All%20Teams/Epics?showParents=true&workitem=15902

A number of [blocks have been improved][Improved Blocks] within the [{{% ctx %}} Block Packages][Blocks], improving functionality to work with:#

The [installation process of the {{% ctx %}} Innovation Platform has been improved][improved installation] in a number of ways, such as:

* TODO

Finally, this [Product Portal][] includes updated documentation for the TODO.

### Components

TODO: Update Version, Updated, Update Type, Breaking Change, Notes

| <nobr> Release Component </nobr>                                               | Version      | Updated | Update Type                 | Breaking Change | Notes                                                                                                                                       |
|--------------------------------------------------------------------------------|--------------|---------|-----------------------------|-----------------|---------------------------------------------------------------------------------------------------------------------------------------------|
| <nobr>[{{% ctx %}} Innovation Core Application][] </nobr>                      | 41.3.0.24130 | Yes     | Major                       | No              | Major changes occurred between internal development releases, however, these changes are not breaking between 2023.11 and 2024.1            |
| <nobr>&nbsp; &nbsp; > [{{% ctx %}} API Gateway Service][] </nobr>              | 32.2.0.24130 | Yes     | Major                       | No              | Major changes occurred between internal development releases, however, these changes are not breaking between 2023.11 and 2024.1            |
| <nobr>&nbsp; &nbsp; > [{{% ctx %}} Authorisation Service][]                    | 3.1.0.24130  | Yes     | Major                       | No              | Major changes occurred between internal development releases, however, these changes are not breaking between 2023.11 and 2024.1            |
| <nobr>&nbsp; &nbsp; > [{{% ctx %}} Concurrency Management Service][] </nobr>   | 2.1.0.24130  | Yes     | Major                       | No              | Major changes occurred between internal development releases, however, these changes are not breaking between 2023.11 and 2024.1            |
| <nobr>&nbsp; &nbsp; > [{{% ctx %}} Configuration Management Service][] </nobr> | 2.2.0.24130  | Yes     | Major                       | No              | Major changes occurred between internal development releases, however, these changes are not breaking between 2023.11 and 2024.1            |
| <nobr>&nbsp; &nbsp; > [{{% ctx %}} Data Storage Service][] </nobr>             | 3.1.0.24130  | Yes     | Major                       | No              | Major changes occurred between internal development releases, however, these changes are not breaking between 2023.11 and 2024.1            |
| <nobr>&nbsp; &nbsp; > [{{% ctx %}} Execution Management Service][] </nobr>     | 3.1.0.24130  | Yes     | Major                       | No              | Major changes occurred between internal development releases, however, these changes are not breaking between 2023.11 and 2024.1            |
| <nobr>&nbsp; &nbsp; > [{{% ctx %}} Licence Management Service][] </nobr>       | 3.1.0.24130  | Yes     | Major                       | No              | Major changes occurred between internal development releases, however, these changes are not breaking between 2023.11 and 2024.1            |
| <nobr>&nbsp; &nbsp; > [{{% ctx %}} Package Management Service][] </nobr>       | 7.2.0.24130  | Yes     | Major                       | No              | Major changes occurred between internal development releases, however, these changes are not breaking between 2023.11 and 2024.1            |
| <nobr>&nbsp; &nbsp; > [{{% ctx %}} Provisioning Service][] </nobr>             | 7.3.0.24130  | Yes     | Major                       | No              | Major changes occurred between internal development releases, however, these changes are not breaking between 2023.11 and 2024.1            |
| <nobr>&nbsp; &nbsp; > [{{% ctx %}} Scheduling Service][] </nobr>               | 3.1.0.24130  | Yes     | Major                       | No              | Major changes occurred between internal development releases, however, these changes are not breaking between 2023.11 and 2024.1            |
| <nobr>&nbsp; &nbsp; > [{{% ctx %}} Triggers Service][] </nobr>                 | 5.2.0.24130  | Yes     | Major                       | No              | Major changes occurred between internal development releases, however, these changes are not breaking between 2023.11 and 2024.1            |
| <nobr>[{{% ctx %}} Innovation Execution Application][] </nobr>                 | 10.3.0.24130 | Yes     | Major                       | No              | Major changes occurred between internal development releases, however, these changes are not breaking between 2023.11 and 2024.1            |
| <nobr>&nbsp; &nbsp; > [{{% ctx %}} Execution Service][] </nobr>                | 10.3.0.24130 | Yes     | Major                       | No              | Major changes occurred between internal development releases, however, these changes are not breaking between 2023.11 and 2024.1            |
| <nobr>[{{% ctx %}} Gateway][Gateway], including [{{% ctx %}} Studio][] </nobr> | 10.1.1.24130 | Yes     | Major                       | No              | Major changes occurred between internal development releases, however, these changes are not breaking between 2023.11 and 2024.1            |
| <nobr>[{{% ctx %}} Blocks Package][Blocks] </nobr>                             | 43.1.1.24120 | Yes     | Major                       | Potential       | Major changes occurred between releases, these changes are [potentially breaking][Potentially Breaking - Blocks] between 2023.11 and 2024.1 |
| <nobr>[{{% ctx %}} Interaction Portal][Interaction Portal] </nobr>             | 1.0.0.24130  | Yes     | <nobr>First Release </nobr> | No              |                                                                                                                                             |
| <nobr>{{% ctx %}} App Server Install Scripts </nobr>                           | 5.0.0.23440  | Yes     | Major                       | No              | Major changes occurred between internal development releases, however, these changes are not breaking between 2023.11 and 2024.1            |
| <nobr>{{% ctx %}} Web App Server Install Scripts </nobr>                       | 7.0.0.24130  | Yes     | Major                       | No              | Major changes occurred between internal development releases, however, these changes are not breaking between 2023.11 and 2024.1            |
| <nobr>{{% ctx %}} Licence Fingerprint Generator </nobr>                        | 3.0.0.23470  | Yes     | Major                       | No              | Major changes occurred between internal development releases, however, these changes are not breaking between 2023.11 and 2024.1            |
| <nobr>{{% ctx %}} Encryption Key Generator </nobr>                             | 1.2.0.23470  | Yes     | <nobr>First Release </nobr> | No              |                                                                                                                                             |
| <nobr>{{% ctx %}} Encryptor </nobr>                                            | 1.1.0.23440  | Yes     | Minor                       | No              |                                                                                                                                             |
| <nobr>{{% ctx %}} Upgrade Flows </nobr>                                        | 1.0.0.24160  | No      | N/A                         | No              | First Release                                                                                                                               |

### Features

#### Platform Performance Improvements

##### Caching Added to the Provisioning Service

Caching has been added to [Provisioning Service][{{% ctx %}} Provisioning Service] in order to reduce the number of messages sent throughout the HA Platform and improve the performance of running flows.

The cache has been added with the following rules to limit memory growth within the Provisioning Service:

* Items are removed from the cache if they have not been accessed within one hour
* Items are removed from the cache on when the related package version is published or unpublished
* Items related to the "default" package of the system are removed from the cache when "default" package or version is changed or updated

* [{{% ctx %}} Innovation Core Application][]
  * [{{% ctx %}} Provisioning Service][]

##### HealthCheck Enabled for the Triggers Service after Provisioning

When the [Triggers Service][{{% ctx %}} Triggers Service] is provisioned by the [Provisioning Service][{{% ctx %}} Provisioning Service], a request will be made from the Provisioning Service to the LoadBalancer updating the configuration and enabling health checks for the Triggers Service. This allows the built in LoadBalancer to route messages to healthy and available Triggers Service.

* [{{% ctx %}} Innovation Core Application][]
  * [{{% ctx %}} Provisioning Service][]
  * [{{% ctx %}} Triggers Service][]

##### LoadBalancer HealthCheck Improvements

The built in load balancer has been improved to more efficiently check if both the [API Gateway Service][{{% ctx %}} API Gateway Service] and the [Triggers Service][{{% ctx %}} Triggers Service] are healthy and available, now checking which partitions are available and routing messages and requests to healthy partitions.

#### Platform Visibility

##### Platform has been Updated to Provide more Information in Logs

A new property called `Platform` has been added to all platform logs, which replaces `Service`, containing information related to the platform in which the log was written.

`Platform` contains the following information:

``` json
"Platform": {
  "Node": {
    "Name": "_Node_0",
    "IpAddressOrFqdn": "machine.address",
    "Versions" : {
      "OperatingSystem": "Microsoft Windows NT 10.0.19045.0",
      "DotNet": "6.0.26",
      "ServiceFabric": "10.0.1949.9590",
      "NServiceBus": "7.8.4",
      "Rabbitmq": "3.10.6",
      "Erlang": "25.0.4",
      "$type": "VersionDetails"
    },
    "$type": "NodeDetails"
  },
  "Application": {
    "Name": "fabric:/Core/Services",
    "Type": "Cortex.Innovation.Core",
    "Version": "41.3.0.24130",
    "$type": "ServiceFabricApplicationDetails"
  },
  "Service": {
    "Name": "fabric:/Core/Services/ApiGateway",
    "Type": "ApiGateway",
    "Version": "32.2.0.24130",
    "PartitionId": "4cf98b39-3093-42c4-b88a-6ad4711cf389",
    "ReplicaOrInstanceId": "133511894962823718",
    "$type": "ServiceFabricServiceDetails"
  },
  "Version": "2024.3",
  "$type": "PlatformDetails"
}
```

| Property Name                          | Notes                                                                                             |
|----------------------------------------|---------------------------------------------------------------------------------------------------|
| `Platform.Node.Name`                   | Name of the node in which the log was written                                                     |
| `Platform.Node.IpAddressOrFqdn`        | Name of the IP Address or Fully Qualified Domain Name of the machine in which the log was written |
| `Platform.Versions.OperatingSystem`    | Operating system name and version of the machine in which the log was written                     |
| `Platform.Versions.DotNet`             | Version of the DotNet used by the machine in which the log was written                            |
| `Platform.Versions.ServiceFabric`      | Version of the ServiceFabric used by the machine in which the log was written                     |
| `Platform.Versions.NServiceBus`        | Version of the NServiceBus used by the machine in which the log was written                       |
| `Platform.Versions.Rabbitmq`           | Version of the Rabbitmq used by the machine in which the log was written                          |
| `Platform.Versions.Erlang`             | Version of the Erlang used by the machine in which the log was written                            |
| `Platform.Application.Name`            | Name of the application in which the log was written                                              |
| `Platform.Application.Type`            | Type of the application in which the log was written                                              |
| `Platform.Application.Version`         | Version of the application type in which the log was written                                      |
| `Platform.Service.Name`                | Name of the service in which the log was written                                                  |
| `Platform.Service.Type`                | Type of the service in which the log was written                                                  |
| `Platform.Service.Version`             | Version of the service type in which the log was written                                          |
| `Platform.Service.PartitionId`         | PartitionId of the service in which the log was written                                           |
| `Platform.Service.ReplicaOrInstanceId` | ReplicaOrInstanceId of the service in which the log was written                                   |
| `Platform.Version`                     | Version of {{% ctx %}}                                                                            |

Note: If Logs were being consumed and the `Service` property was used programmatically, these references will need to be updated to use the new `Service` property within Platform, otherwise references to the old `Service` property will break.

Affected Components:

* [{{% ctx %}} Innovation Core Application][]
  * [{{% ctx %}} API Gateway Service][]
  * [{{% ctx %}} Authorisation Service][]
  * [{{% ctx %}} Concurrency Management Service][]
  * [{{% ctx %}} Configuration Management Service][]
  * [{{% ctx %}} Data Storage Service][]
  * [{{% ctx %}} Execution Management Service][]
  * [{{% ctx %}} Licence Management Service][]
  * [{{% ctx %}} Package Management Service][]
  * [{{% ctx %}} Provisioning Service][]
  * [{{% ctx %}} Scheduling Service][]
  * [{{% ctx %}} Triggers Service][]
* [{{% ctx %}} Innovation Execution Application][]
  * [{{% ctx %}} Execution Service][]

##### Request Duration is now Logged in Seconds Instead of Milliseconds

The `InMilliseconds` has been replaced with the `InSeconds` property, which contains the duration of the event being logged in seconds instead of milliseconds.

Note: If Logs were being consumed and the `InMilliseconds` property was used programmatically, these references will need to be updated to use the new `InSeconds` property, otherwise references to the old `InMilliseconds` property will break.

Affected Components:

* [{{% ctx %}} Innovation Core Application][]
  * [{{% ctx %}} API Gateway Service][]
  * [{{% ctx %}} Authorisation Service][]
  * [{{% ctx %}} Concurrency Management Service][]
  * [{{% ctx %}} Configuration Management Service][]
  * [{{% ctx %}} Data Storage Service][]
  * [{{% ctx %}} Execution Management Service][]
  * [{{% ctx %}} Licence Management Service][]
  * [{{% ctx %}} Package Management Service][]
  * [{{% ctx %}} Provisioning Service][]
  * [{{% ctx %}} Scheduling Service][]
  * [{{% ctx %}} Triggers Service][]
* [{{% ctx %}} Innovation Execution Application][]
  * [{{% ctx %}} Execution Service][]

##### Type and Method Added to Platform Logs

The `Type` property has been updated to contain a friendly name for any log written by the platform and a new property called `Method` has been added to all platform logs, containing the Method in which the log was written.

These properties can be used to more easily filter and group logs programmatically.

Note: If Logs were being consumed and the `Type` property was used programmatically, these references will need to be updated to use the new `Method` property, otherwise references to the old `Type` property may not work as expected.

Affected Components:

* [{{% ctx %}} Innovation Core Application][]
  * [{{% ctx %}} API Gateway Service][]
  * [{{% ctx %}} Authorisation Service][]
  * [{{% ctx %}} Concurrency Management Service][]
  * [{{% ctx %}} Configuration Management Service][]
  * [{{% ctx %}} Data Storage Service][]
  * [{{% ctx %}} Execution Management Service][]
  * [{{% ctx %}} Licence Management Service][]
  * [{{% ctx %}} Package Management Service][]
  * [{{% ctx %}} Provisioning Service][]
  * [{{% ctx %}} Scheduling Service][]
  * [{{% ctx %}} Triggers Service][]
* [{{% ctx %}} Innovation Execution Application][]
  * [{{% ctx %}} Execution Service][]
  
##### Custom Tags can be Passed Through Logs via Headers

A new custom header, `customTags`, can be used when making any request to [{{% ctx %}} API Gateway Service][] in order to add custom tags to any log related to the API request made.

The `customTags` header allows for a Dictionary<string, object> to be passed in along the header, which is then used as a collection of custom tags that will be added to any log related to the initial API request made.

Affected Components:

* [{{% ctx %}} Innovation Core Application][]
  * [{{% ctx %}} API Gateway Service][]
  * [{{% ctx %}} Authorisation Service][]
  * [{{% ctx %}} Concurrency Management Service][]
  * [{{% ctx %}} Configuration Management Service][]
  * [{{% ctx %}} Data Storage Service][]
  * [{{% ctx %}} Execution Management Service][]
  * [{{% ctx %}} Licence Management Service][]
  * [{{% ctx %}} Package Management Service][]
  * [{{% ctx %}} Provisioning Service][]
  * [{{% ctx %}} Scheduling Service][]
  * [{{% ctx %}} Triggers Service][]
* [{{% ctx %}} Innovation Execution Application][]
  * [{{% ctx %}} Execution Service][]

##### Exception Tags Added to Logs Related to Exceptions or Problem Details

Logs related to Exceptions or Problem Details now contain extended Cortex Tags.

Logs related to Exceptions have had the following tags added:

* `Exception.Type` - This tag contains the type of exception that has been thrown
* `Exception.Category` - This optional tag contains the category of the exception that has been thrown, it is only added to the tags if the exception has a category property
* `Exception.ErrorCode` - This optional tag contains the error code of the exception that has been thrown, it is only added to the tags if the exception has an error code property

Logs related to Problem Details will update the `Result` tag to contain ProblemDetails.Type showing why the request has failed, logs related to successful API calls will contain a `Result` tag with the value `"Success"`

Affected Components:

* [{{% ctx %}} Innovation Core Application][]
  * [{{% ctx %}} API Gateway Service][]
  * [{{% ctx %}} Authorisation Service][]
  * [{{% ctx %}} Concurrency Management Service][]
  * [{{% ctx %}} Configuration Management Service][]
  * [{{% ctx %}} Data Storage Service][]
  * [{{% ctx %}} Execution Management Service][]
  * [{{% ctx %}} Licence Management Service][]
  * [{{% ctx %}} Package Management Service][]
  * [{{% ctx %}} Provisioning Service][]
  * [{{% ctx %}} Scheduling Service][]
  * [{{% ctx %}} Triggers Service][]
* [{{% ctx %}} Innovation Execution Application][]
  * [{{% ctx %}} Execution Service][]

##### Flow Logging Control

An API route has been added to API Gateway which allows for configuration of logging for flows running within {{% ctx %}} Platform. All flow logs are written at `LogLevel.TODO`, and the current `LogLevel` of the execution application can be changed and updated at runtime.

If the Execution Application is set to a `LogLevel` between `LogLevel.Trace` (`0`) and `LogLevel.Critical` (`5`) then flow logging will be enabled. Any logs with a `LogLevel` lower than the configured `LogLevel` for the platform will not be logged. Information regarding the types of log level and what logs are written at a given level can be found below:

If the Execution Application is set to a `LogLevel` greater than or equal to the `LogLevel` for of flow logs then the flow logging will be enabled. Information regarding the types of log level and what logs are written at a given level can be found below:

| Log Level                                  | Service Logs at this LogLevel                      |
|--------------------------------------------|----------------------------------------------------|
| <nobr>`LogLevel.Trace` (`0`) </nobr>       | None                                               |
| <nobr>`LogLevel.Debug` (`1`) </nobr>       | Logs written when: a flow completes successfully   |
| <nobr>`LogLevel.Information` (`2`) </nobr> | None                                               |
| <nobr>`LogLevel.Warning` (`3`) </nobr>     | None                                               |
| <nobr>`LogLevel.Error` (`4`) </nobr>       | Logs written when: a flow completes unsuccessfully |
| <nobr>`LogLevel.Critical` (`5`) </nobr>    | None                                               |

If a Log Level above `LogLevel.Critical` (`5`) is provided, then flow logging across the platform will be disabled.

Note: Flow logging should have a minimal impact on the performance of running flows.

Affected Components:

* [{{% ctx %}} Innovation Core Application][]
  * [{{% ctx %}} API Gateway Service][]
  * [{{% ctx %}} Authorisation Service][]
  * [{{% ctx %}} Configuration Management Service][]
* [{{% ctx %}} Innovation Execution Application][]
  * [{{% ctx %}} Execution Service][]

##### Block Logging Control

An API route has been added to API Gateway which allows for configuration of logging for flows running within {{% ctx %}} Platform. All flow logs are written at `LogLevel.TODO`, and the current `LogLevel` of the execution application can be changed and updated at runtime.

If the Execution Application is set to a `LogLevel` between `LogLevel.Trace` (`0`) and `LogLevel.Critical` (`5`) then flow logging will be enabled. Any logs with a `LogLevel` lower than the configured `LogLevel` for the platform will not be logged. Information regarding the types of log level and what logs are written at a given level can be found below:

If the Execution Application is set to a `LogLevel` greater than or equal to the `LogLevel` for of flow logs then the flow logging will be enabled. Information regarding the types of log level and what logs are written at a given level can be found below:

| Log Level                                  | Service Logs at this LogLevel                      |
|--------------------------------------------|----------------------------------------------------|
| <nobr>`LogLevel.Trace` (`0`) </nobr>       | None                                               |
| <nobr>`LogLevel.Debug` (`1`) </nobr>       | Logs written when: a block executes successfully   |
| <nobr>`LogLevel.Information` (`2`) </nobr> | None                                               |
| <nobr>`LogLevel.Warning` (`3`) </nobr>     | None                                               |
| <nobr>`LogLevel.Error` (`4`) </nobr>       | Logs written when: a block executes unsuccessfully |
| <nobr>`LogLevel.Critical` (`5`) </nobr>    | None                                               |

If a Log Level above `LogLevel.Critical` (`5`) is provided, then block logging across the platform will be disabled.

Note: Block logging will have a large impact on the performance of running flows, it is advised to only turn block logging on when investigating issues with executing flows.

Affected Components:

* [{{% ctx %}} Innovation Core Application][]
  * [{{% ctx %}} API Gateway Service][]
  * [{{% ctx %}} Authorisation Service][]
  * [{{% ctx %}} Configuration Management Service][]
* [{{% ctx %}} Innovation Execution Application][]
  * [{{% ctx %}} Execution Service][]

##### Running Executions can be Viewed in Real-Time

The Package Management page with [Gateway][] has been updated to include an overview of all executions running within the platform.

A column named `Running Executions` has been added to the package management grid, showing the total number of executions running for the latest package version and any older package version.

Also, a `Running Executions` tab has been added to the package definition view shown when a specific version of a package has been selected. This new tab shows a table of details related to any running executions for the selected package version. The following information is displayed for each executions:

* Flow Name - The name of the flow that the execution is currently running
* Execution Id - The Id of the execution
* Started At - The time at which the execution started
* Duration - The total duration of the execution

The `Running Executions` will be updated every 10 seconds, refreshing all data accordingly. You may perform any of the following actions in order to stop receiving live updates

* Close the browser
* Close the browser tab
* Lose network connectivity
* Navigate to another page within [Gateway][]

Affected Components:

* [{{% ctx %}} Innovation Core Application][]
  * [{{% ctx %}} API Gateway Service][]
  * [{{% ctx %}} Execution Management Service][]
* [{{% ctx %}} Gateway][Gateway]

##### Grafana and Promtail Updated to use the New and Updated Properties Added to Platform Logs

Grafana and Promtail have been updated to use the following changed properties within logs:

* [Platform has been Updated to Provide more Information in Logs][]
* [Request Duration is now Logged in Seconds Instead of Milliseconds][]
* [Type and Method Added to Platform Logs][]

Affected Components:

* TODO

#### Platform Security

##### Remove Plaintext Password from GetLDAPConnection Response Message

Previously, the GetLDAPConnection could return a plaintext password within the payload of the response, this has been sanitised and removed.

Affected Components:

* [{{% ctx %}} Gateway][Gateway]

#### Platform Upgrades

##### A New Cortex.Upgrade.Flows Tool has been Added

A new Cortex.Upgrade.Flows tool has been added that allows users to upgrade flows so that they are compatible when upgrading their platform from one version of {{% ctx %}} to the next, e.g. upgrading flows from 2024.1 to be compatible with the new features introduced in 2024.3

In order to use this tool:

* Flows must be exported to a studio package (e.g. `"{name}.studiopkg"`)
* Then the tool must be run, pointed at the exported studio package
* The original studio package will be left unchanged, but a new upgraded package will be created (e.g. `"{name}-{previous version}UpgradedTo{new version}.studiopkg"`)

Affected Components:

* TODO

##### A New Single Server Upgrade Script has been Added to the Installation Artefacts

A new script for upgrading Single Server deployments of the {{% ctx %}} Platform has been created. [Upgrade Instructions][] have been added for how to use this script to upgrade a system from 2024.1 to 2024.3.

Affected Components:

* TODO

##### Upgrading a Multi Server Platform now also upgrades Gobetween on the Load Balancer

The Multi Server upgrades scripts have been improved to also upgrade Gobetween on the Load Balancer, this includes updating any health check mechanisms and persists settings within the load balancer. [Upgrade Instructions][] have been added for how to use this script to upgrade a system from 2024.1 to 2024.3.

Affected Components:

* TODO

#### Block Redesign

All blocks within the {{% ctx %}} Platform have been redesigned. The refresh includes new icons for every block updating the consistency of design and accessability of colours used within flows.

The following changes have been made for block icons:

* All Exception Handling blocks are now red and triangle shaped (except the Handle Flow Exception block, which is rectangle due to containing a workspace)
* All Action blocks are now blue and square
* All Action blocks have consistent designs based on their palette
* All Decision blocks are now yellow and diamond shaped
* All Workspace blocks are now grey (except the Handle Flow Exception block, which is red due to being an exception handling block) and rectangle shaped

Further improvements may be made to the design of block icons in a future release.

Affected Components:

* [{{% ctx %}} Block Packages][Blocks]
* [{{% ctx %}} Gateway][Gateway]

#### Improved Blocks

The following [Blocks][] have been improved as part of this release of the platform:

* [ExecuteDataCommand][] - A new Parameter type has been added allowing for requests made to Oracle data sources, allowing control of the OracleMappingType and ParameterDirection, this allows for processes like passing of larger data sets (CLOB) to an Oracle stored procedure

Affected Components:

* [{{% ctx %}} Block Packages][Blocks]

#### Improved Installation

The installation process of the {{% ctx %}} Platform has been improved in the following ways:

* The installation scripts have been updated further to remove references to hard coded drive paths, and now use environment variables

Affected Components:

* {{% ctx %}} App Server Install Scripts
* {{% ctx %}} Web App Server Install Scripts

#### Product Portal

Reference documentation has been updated for the [improved blocks][Improved Blocks] and related data types, and the documentation has been updated to reflect the [improved installation][] and new [platform upgrades][] documentation.

TODO

Product Portal - Data Types
Product Portal - Exceptions

### Bug Fixes

The following bugs have been fixed in the 2024.1 release of the {{% ctx %}} Platform:

#### Platform Visibility

##### Log Level for the Triggers Service does not Update

Previously, when changing the log level of the platform, the triggers service would not be updated, this has now been fixed and the triggers service respects the log level set.

##### Platform Health Dashboard queries that use the JSON Parser can Cause Timeouts

Previously, a number of queries created using json parser in within the Platform Health dashboard, could cause Loki to use a large amount of memory leading to timeouts. This has been fixed by using a scoped json parser to create these queries.

##### Flow Execution Requests Dashboard queries that use the JSON Parser can Cause Timeouts

Previously, a number of queries created using json parser in within the Flow Execution Requests dashboard, could cause Loki to use a large amount of memory leading to timeouts. This has been fixed by using a scoped json parser to create these queries.

#### CORTEX Studio

##### Newly Created, Top-Level groups are not Displayed in Charms until the Authorisation has been Modified

Previously, newly created, Top-Level groups would not be displayed within the Charms until any change had been made to the Studio Authorisation, this has now been fixed.

##### Making changes to a Flow Before the Call to Update the Model Completes After a Commit can cause the Flow to be Corrupted

Previously, if a change is made to a flow after a commit but before the AreFlowsBehind call finishes, the flow had a chance of becoming corrupted. This has now been fixed.

#### Product Portal

##### Incorrect Text in Shortcut Links

A number of hyperlinks within the Product Portal were broken due to incorrect shortcodes cause incorrect text to be inserted into the url, this has now been fixed.

### Deprecated Features

There are no features deprecated as part of the 2024.1 release of the {{% ctx %}} Platform.

### Removed Features

There are no features removed in the 2024.1 release of the {{% ctx %}} Platform:

### Potential Breaking Changes

The following features are potentially breaking changes in the 2024.1 release of the {{% ctx %}} Platform:

#### Platform Visibility

The following features related to [Platform Visibility][] could potentially break interactions with properties within logs generated byt the {{% ctx %}} Platform:

* [Platform has been Updated to Provide more Information in Logs][]
* [Request Duration is now Logged in Seconds Instead of Milliseconds][]
* [Type and Method Added to Platform Logs][]

Grafana and Promtail have been [updated to use the new and updated properties][] added to the platform logs.

### Breaking Changes

There are no known breaking changes as part of the 2024.1 release of the {{% ctx %}} Platform.

### Known Limitations

There are no known known limitations added as part of the 2024.1 release of the {{% ctx %}} Platform:

## Version Support

### Operating Systems

| OS Type | Supported Versions |
|-|-|-|
| Windows | <ul><li>Server 2016</li><li>Server 2019</li><li>Server 2022</li></ul> |
| Linux | Linux is not currently supported |

### 7.X Compatibility

| 7.X Version | Is compatible? | Notes                                        |
|-------------|----------------|----------------------------------------------|
| 7.2         | Yes            |                                              |
| 7.1         | No             | Need to upgrade 7.1 to 7.2 for compatibility |
| 7.0         | No             | Need to upgrade 7.0 to 7.2 for compatibility |

## Install Instructions

If you are installing a new 2024.3 platform or adding it to an existing 7.2 Installation see the guidance below; otherwise, if you are upgrading from an existing 2024.1 platform refer to the [Upgrade Instructions][].

Installing {{% ctx %}} Only:

* [Multiple Server - With HA][Innovation Only - Multiple Server - With HA]
* [Single Server - Without HA][Innovation Only - Single Server - Without HA]

Adding {{% ctx %}} to a 7.2 Installation:

* [Multiple Server - With HA][Adding Innovation to a 7.2 Installation - Multiple Server - With HA]
* [Single Server - Without HA][Adding Innovation to a 7.2 Installation - Single Server - Without HA]

## Upgrade Instructions

if you are upgrading from an existing 2024.1 platform see the guidance below:

Upgrading {{% ctx %}}:

* [Multiple Server - With HA][TODO]
* [Single Server - Without HA][TODO]

## Upcoming Releases

Releases are currently forecast to be made available on:

| Release | Release Type   | Forecast Release Date               |
|---------|----------------|-------------------------------------|
| 2024.5  | [Fast Track][] | Week commencing 3rd June 2024       |
| 2024.7  | [Release][]    | Week commencing 29th July 2024      |
| 2024.9  | [Fast Track][] | Week commencing 23rd September 2024 |
| 2024.11 | [Fast Track][] | Week commencing 18th November 2024  |

Any changes to these forecasts will be announced via the [News channel][].

[{{% ctx %}} Innovation Core Application]: {{< url path="Cortex.Guides.CortexInnovation.CoreApplication.MainDoc" version="2024.3" >}}
[{{% ctx %}} API Gateway Service]: {{< url path="Cortex.Guides.CortexInnovation.CoreApplication.Services.ApiGatewayService.MainDoc" version="2024.3" >}}
[{{% ctx %}} Authorisation Service]: {{< url path="Cortex.Guides.CortexInnovation.CoreApplication.Services.AuthorisationService.MainDoc" version="2024.3" >}}
[{{% ctx %}} Concurrency Management Service]: {{< url path="Cortex.Guides.CortexInnovation.CoreApplication.Services.ConcurrencyManagementService.MainDoc" version="2024.3" >}}
[{{% ctx %}} Configuration Management Service]: {{< url path="Cortex.Guides.CortexInnovation.CoreApplication.Services.ConfigurationManagementService.MainDoc" version="2024.3" >}}
[{{% ctx %}} Data Storage Service]: {{< url path="Cortex.Guides.CortexInnovation.CoreApplication.Services.DataStorageService.MainDoc" version="2024.3" >}}
[{{% ctx %}} Execution Management Service]: {{< url path="Cortex.Guides.CortexInnovation.CoreApplication.Services.ExecutionManagementService.MainDoc" version="2024.3" >}}
[{{% ctx %}} Licence Management Service]: {{< url path="Cortex.Guides.CortexInnovation.CoreApplication.Services.LicenceManagementService.MainDoc" version="2024.3" >}}
[{{% ctx %}} Package Management Service]: {{< url path="Cortex.Guides.CortexInnovation.CoreApplication.Services.PackageManagementService.MainDoc" version="2024.3" >}}
[{{% ctx %}} Provisioning Service]: {{< url path="Cortex.Guides.CortexInnovation.CoreApplication.Services.ProvisioningService.MainDoc" version="2024.3" >}}
[{{% ctx %}} Scheduling Service]: {{< url path="Cortex.Guides.CortexInnovation.CoreApplication.Services.SchedulingService.MainDoc" version="2024.3" >}}
[{{% ctx %}} Triggers Service]: {{< url path="Cortex.Guides.CortexInnovation.CoreApplication.Services.TriggersService.MainDoc" version="2024.3" >}}
[{{% ctx %}} Innovation Execution Application]: {{< url path="Cortex.Guides.CortexInnovation.ExecutionApplication.MainDoc" version="2024.3" >}}
[{{% ctx %}} Execution Service]: {{< url path="Cortex.Guides.CortexInnovation.ExecutionApplication.Services.ExecutionService.MainDoc" version="2024.3" >}}
[Interaction Portal]: {{< url path="Cortex.Guides.CortexInteractionPortal.MainDoc" version="2024.3" >}}

[HA Platform]: {{< ref "#expansion-of-the-ha-platform" >}}

[Platform Visibility]: {{< ref "#platform-visibility" >}}
[Platform has been Updated to Provide more Information in Logs]: {{< ref "#platform-has-been-updated-to-provide-more-information-in-logs" >}}
[Request Duration is now Logged in Seconds Instead of Milliseconds]: {{< ref "#request-duration-is-now-logged-in-seconds-instead-of-milliseconds" >}}
[Type and Method Added to Platform Logs]: {{< ref "#type-and-method-added-to-platform-logs" >}}

[Improved Blocks]: {{< ref "#improved-blocks" >}}
[Product Portal]: {{< ref "#product-portal" >}}
[Upgrade Instructions]: {{< ref "#upgrade-instructions" >}}
[improved installation]: {{< ref "#improved-installation" >}}
[Potentially Breaking - Blocks]: {{< ref "#improved-blocks-1" >}}

[News channel]: {{< url path="Cortex.Blogs.News.MainDoc" >}}

[Blocks]: {{< url path="Cortex.Reference.Blocks.MainDoc" version="2024.3" >}}

[ExecuteDataCommand]: {{< url path="Cortex.Reference.Blocks.ExecuteDataCommand.ExecuteDataCommand.ExecuteDataCommandBlock.MainDoc" version="2024.3" >}}

[Innovation Only - Single Server - Without HA]: {{< url path="Cortex.GettingStarted.OnPremise.InstallInnovationOnly.SingleServerWithoutHA.MainDoc" version="2024.3" >}}
[Innovation Only - Multiple Server - With HA]: {{< url path="Cortex.GettingStarted.OnPremise.InstallInnovationOnly.MultipleServerWithHA.MainDoc" version="2024.3" >}}

[Adding Innovation to a 7.2 Installation - Single Server - Without HA]: {{< url path="Cortex.GettingStarted.OnPremise.AddInnovationTo72.SingleServerWithoutHA.MainDoc" version="2024.3" >}}
[Adding Innovation to a 7.2 Installation - Multiple Server - With HA]: {{< url path="Cortex.GettingStarted.OnPremise.AddInnovationTo72.MultipleServerWithHA.MainDoc" version="2024.3" >}}

[Innovation Only Upgrade - Single Server - Without HA]: {{< url path="Cortex.GettingStarted.OnPremise.InstallInnovationOnly.SingleServerWithoutHA.MainDoc" version="2024.3" >}}
[Innovation Only Upgrade - Multiple Server - With HA]: {{< url path="Cortex.GettingStarted.OnPremise.InstallInnovationOnly.MultipleServerWithHA.MainDoc" version="2024.3" >}}

[{{% ctx %}} Studio]: {{< url path="Cortex.Guides.Studio.MainDoc" version="2024.3" >}}
[Gateway]: {{< url path="Cortex.Guides.Gateway.MainDoc" version="2024.3" >}}

[{{% ctx %}} Service Portal]: {{< url path="Cortex.ServicePortal.MainDoc" version="2024.3" >}}

[Fast Track]: {{< url path="Cortex.Reference.Glossary.F-J.FastTrack" version="2024.3" >}}
[Release]: {{< url path="Cortex.Reference.Glossary.P-T.Release" version="2024.3" >}}

[Grafana]: {{< url path="Grafana.MainDoc" >}}
