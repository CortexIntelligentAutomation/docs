---
title: "2024.7"
linkTitle: "2024.7"
date: 2024-08-12
author: Paul Arnold ([@paulmarnold](https://twitter.com/paulmarnold))
---

## Summary

The 2024.7 [Fast Track][] release is now available.

## Download Artefacts

Installation artefacts can be requested by raising a case in the [{{% ctx %}} Service Portal][].

## Release Notes

### Features

#### Improved {{% ctx %}} Gateway

##### SchemaOverrides are updated on upgrade

Previously, the schemaOverrides.user.json and schemaOverrides.default.json were not updated when upgrading the {{% ctx %}} platform, now schema overrides will be updated by default. This permits new blocks to have the right default values on upgrade.

Affected Components:

* [{{% ctx %}} Gateway][Gateway]

<!-- Blocks Provider Host - Improve schema generation to allow for upgrades -->

##### Improved 'Home' page loading placeholder

The Home page loading placeholder has been improved to provide a better user experience.

Affected Components:

* [{{% ctx %}} Gateway][Gateway]

<!-- CORTEX Studio - Fix styling of loading skeletons on homepage in light and dark mode -->

##### Improved Search bar styling

Previously, the search bar did not have any icon to indicate that it was a search bar, and the delete button was always visible. This has now been addressed to provide a better user experience.

Affected Components:

* [{{% ctx %}} Gateway][Gateway]

<!-- CORTEX Studio - Search bar styling -->

#### Tenant System

##### Tenant/System is created on startup/restart

Previously, only the `default` `Tenant`/`System` was created on Service Fabric service startup/restart. Now, as the target `Tenant` and `System` is now configurable from the {{% ctx %}} Gateway's `Web.config`, it is created in the {{% ctx %}} Configuration Management Service on startup/restart of {{% ctx %}} Gateway.

Affected Components:

* [{{% ctx %}} Gateway][Gateway]

<!-- CORTEX Gateway - Tenant/System should be created on startup/restart -->
<!-- CORTEX Gateway - Tenant/System should be created on the flow debugger on start-up/restart -->

##### Errors are retried when creating tenant/system in startup

{{% ctx %}} Gateway will retry creating the `Tenant`/`System` on startup/restart if there is an error.

Affected Components:

* [{{% ctx %}} Gateway][Gateway]

<!-- CORTEX Gateway - Retry any errors when creating tenant/system in startup -->

#### Logging

##### Redact any value that has the format of an encrypted text

Previously, logs would contain encrypted text. Now, encrypted text will redact in logs.

Affected Components:

* [{{% ctx %}} Gateway][Gateway]
* [{{% ctx %}} Innovation Core Application][]
  * [{{% ctx %}} API Gateway Service][]
  * [{{% ctx %}} Authorisation Service][]
  * [{{% ctx %}} Concurrency Management Service][]
  <!-- * [{{% ctx %}} Configuration Management Service][] -->
  <!-- * [{{% ctx %}} Data Storage Service][] -->
  * [{{% ctx %}} Execution Management Service][]
  <!-- * [{{% ctx %}} Licence Management Service][] -->
  <!-- * [{{% ctx %}} Package Management Service][] -->
  <!-- * [{{% ctx %}} Provisioning Service][] -->
  <!-- * [{{% ctx %}} Scheduling Service][] -->
  * [{{% ctx %}} Triggers Service][]
* [{{% ctx %}} Innovation Execution Application][]
  * [{{% ctx %}} Execution Service][]

<!-- Logging - Redact any value that has the format of an encrypted text -->

##### Context User has been added to API Gateway HTTPEvent logs

The context user is added to the API Gateway HTTPEvent logs for both Basic and OAuth2.

Affected Components:

* [{{% ctx %}} Innovation Core Application][]
  * [{{% ctx %}} API Gateway Service][]

<!-- Logging - Context User is added to API Gateway HTTPEvent logs -->

#### Product Portal

This Product Portal includes updates related to:

* The [Wireless Blocks][] documentation including:
  * [Wireless Sender][] block
  * [Wireless Receiver][] block
  * [WirelessReceiverBlockReference][] data type
  * [WirelessReceiverBlockNotFoundException][] exception
<!-- Product Portal - Blocks - Wireless Receiver Block -->
<!-- Product Portal - Blocks - Wireless Sender Block -->
<!-- Product Portal - Datatypes - WirelessReceiverBlockReference -->
<!-- Product Portal - Exceptions - WirelessReceiverBlockNotFoundException -->
* Extended [Execute Data Commmand Block][] documentation including:
  * [UserCredentials][] data type
  * [LogonType][] data type
<!-- Product Portal - DataTypes - UserCredentials/Impersonation (2024.7) - ignored common property change -->
* Update [Scope][] documentation to reflect changes:
  * update [Scope][] data type
  * add new [ScopeDefinition][] data type
<!-- Product Portal - Datatypes - Extend Scope with new properties - that PBI got lots of other improvement... -->
* Added [upgrade steps][] from 2024.5 to 2024.7
<!-- Platform Upgrades - Product Portal - Upgrade Configs -->
* Added [upgrade flows steps][]
<!-- Product Portal - Flow Upgrader Steps need adding -->
* Updated screenshots and block image to reflect rebranding
<!-- Product Portal - Screenshots and Block images need updating -->

#### Scope Support

##### Scope data types has been streamlined

Changes has been made to make to the [Concept of scope][] which has been documented in the [Scope][] and [ScopeDefinition][] data types documentation.

{{% alert title="Note" %}}
This will require a flow migration, which is documented in the [upgrade flows steps][].
{{% / alert %}}

Affected Components:

* [{{% ctx %}} Innovation Core Application][]
  * [{{% ctx %}} API Gateway Service][]
  * [{{% ctx %}} Authorisation Service][]
  * [{{% ctx %}} Concurrency Management Service][]
  * [{{% ctx %}} Configuration Management Service][]
  * [{{% ctx %}} Data Storage Service][]
  * [{{% ctx %}} Execution Management Service][]
  * [{{% ctx %}} Licence Management Service][]
  * [{{% ctx %}} Package Management Service][]
  * [{{% ctx %}} Provisioning Service][]
  * [{{% ctx %}} Scheduling Service][]
  * [{{% ctx %}} Triggers Service][]
* [{{% ctx %}} Innovation Execution Application][]
  * [{{% ctx %}} Execution Service][]
* [{{% ctx %}} Block Packages][Blocks]

<!-- Scope - Fix property names and namespace for ReliableCollectionScope -->
<!-- Scope - Fix property names and namespace for ReliableCollectionScope - Merge patch 2024.5.24321 into main -->

#### Process Design & Execution

##### Creation of a 'Process' flow

Users can now create a [Process][] flow.

Affected Components:

* [{{% ctx %}} Gateway][Gateway]

<!-- No PBI as last release. did not expend as might be deleted. -->

##### Initial palettes and blocks

Initial palettes and blocks have been added to be used within [Process][] flows.

Affected Components:

* [{{% ctx %}} Gateway][Gateway]
* [{{% ctx %}} Block Packages][Blocks]

<!-- DELETE? Did not expend further as might be deleted. -->
<!-- Process Design & Execution - CORTEX Studio - Make blocks reusable between flows and processes -->

#### Operations Overview

##### License usage tile

The Operations Overview page now includes a License Usage tile.

Affected Components:

* [{{% ctx %}} Gateway][Gateway]

<!-- DELETE? Did not expend further as might be deleted. -->
<!-- Operations Overview - License Consumption Tile is shown with actual License Consumption -->

#### Performance

##### Reduced the number license check calls

Previously, the [Execution Service][] would request to the [Licence Service][] whether the license was valid before every flow execution. Now, the [Execution Service][] will only query the license on startup, license added, license removed, and license updated events.

<!-- Platform Performance - Execution Service - Too many calls to check if the server is licensed -->

#### New Block

A new [Block][Blocks] has been added to the {{% ctx %}} platform to work with:

* [OpenAPI][] - Allowing interacting with endpoints that are described by an OpenAPI specification
  * [Execute OpenAPI Request][]

Affected Components:

* [{{% ctx %}} Innovation Execution Application][]
  * [{{% ctx %}} Execution Service][]
* [{{% ctx %}} Block Packages][Blocks]

<!-- OpenAPI Support - Execute OpenAPI Request Block -->

#### Improved Installation

##### Gateway {{% ctx %}} Web App Server Install Scripts now supports installing multiple {{% ctx %}} Gateway

The installation script now supports installing multiple {{% ctx %}} Gateway. This has been made possible by exposing the Tenant, System, SiteName and GatewayApplicationName as parameters in the installation script.

Affected Components:

* {{% ctx %}} Web App Server Install Scripts

<!-- Installation - Install Second Gateway -->

### Bug Fixes

#### Flow Migration

##### Flows can still be migrated even if End Workspace Block is missing its main properties

Previously, if the End Workspace Block was missing its main properties, the flow migration would throw an exception. Now, the flow migration should still work.

<!-- DELETE? Did not expend further as might be deleted. -->
<!-- CORTEX Flow Upgrader - EndWorkSpace Block throws null exception -->

#### Logging security concerns

Security - Logging - Security concern in logs

#### Product Portal issues

Product Portal - Multiple server - Install flow debugger skipped

#### Engine

Flow Engine - Key Not Found exception in Cortex following patch/update (disconnected run flow block)
Flow Engine - Key Not Found exception in Cortex following patch/update - 2024.1
Flow Engine - Key Not Found exception in Cortex following patch/update - 2024.5

#### Package Management Service

Platform Performance - Package Management Service - Runs with high RAM - Main branch
Platform Performance - Package Management Service - Runs with high RAM - Patch for V2024.1
Platform Performance - Package Management Service - Runs with high RAM - Patch for V2024.5

#### {{% ctx %}} Studio Performance

Platform Performance - Cortex Studio - Monaco Editor leaking

<!-- TO REMOVE -->
### PBIs I IGNORED

CORTEX Studio - Triage options for easier reuse of blocks between flows and processes
CORTEX Studio - Triage - Gateway Slowdown for input variables
Process Design & Execution - Gateway - Fix `FlowsController_PostFlow_ProcessUsesProcessTemplate` as made ignored
Total Cost of Ownership - Reduce number of logical endpoints within the HA Platform
Total Cost of Ownership - Reduce number of logical endpoints in Data Storage service
Total Cost of Ownership - Periodically delete unused rabbitmq queues
Upgrade .Net - Upgrade to NET 8
Licensing - DotNet flow wireless blocks not processed when calculating license cost
Process Design & Execution - CORTEX Studio - Prevent copy paste between flows and processes
Release Testing - Smoke Test steps for Installation
Release Testing - Smoke Test steps for Upgrade
Operations Overview - Running Executions Count Tile is shown with actual Execution Count
Product Portal - DataTypes - UserCredentials/Impersonation (2024.3)
Product Portal - DataTypes - UserCredentials/Impersonation (2024.5)
APIs - Generate PostMan Collection

All PBIs related to Azure resources
<!-- END OF TO REMOVE -->

## Upcoming Releases

Releases are currently forecast to be made available on:

| Release | Release Type   | Forecast Release Date              |
|---------|----------------|------------------------------------|
| 2024.7  | [Fast Track][] | Week commencing 12th August 2024   |
| 2024.9  | [Release][]    | Week commencing 7th October 2024   |
| 2024.11 | [Fast Track][] | Week commencing 2nd December 2024  |
| 2025.1  | [Fast Track][] | Week commencing 10th February 2024 |

Any changes to these forecasts will be announced via the [News channel][].

[{{% ctx %}} Innovation Execution Application]: {{< url path="Cortex.Guides.CortexInnovation.ExecutionApplication.MainDoc" version="2024.7" >}}

[News channel]: {{< url path="Cortex.Blogs.News.MainDoc" >}}

[Blocks]: {{< url path="Cortex.Reference.Blocks.MainDoc" version="2024.7" >}}

[Fast Track]: {{< url path="Cortex.Reference.Glossary.F-J.FastTrack" version="2024.5" >}}
[Release]: {{< url path="Cortex.Reference.Glossary.P-T.Release" version="2024.5" >}}
