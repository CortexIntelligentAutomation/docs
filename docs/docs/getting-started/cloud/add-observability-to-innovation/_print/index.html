<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.74.2" /><link rel="canonical" type="text/html" href="/docs/getting-started/cloud/add-observability-to-innovation/">
<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>Add Observability to Innovation | Cortex</title><meta property="og:title" content="Add Observability to Innovation" />
<meta property="og:description" content="Information about setting up an observability platform for Innovation." />
<meta property="og:type" content="website" />
<meta property="og:url" content="/docs/getting-started/cloud/add-observability-to-innovation/" />
<meta property="og:site_name" content="Cortex" />
<meta itemprop="name" content="Add Observability to Innovation">
<meta itemprop="description" content="Information about setting up an observability platform for Innovation."><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Add Observability to Innovation"/>
<meta name="twitter:description" content="Information about setting up an observability platform for Innovation."/>





<link rel="preload" href="/scss/main.min.a0cd5c5d56f1b9adb6cd9a1f584146dd96ccba81568aaaaf1355cb427ebd172b.css" as="style">
<link href="/scss/main.min.a0cd5c5d56f1b9adb6cd9a1f584146dd96ccba81568aaaaf1355cb427ebd172b.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

<script
  src="https://unpkg.com/lunr@2.3.8/lunr.min.js"
  integrity="sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY"
  crossorigin="anonymous"></script>




  </head>
  <body class="td-section">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/">
		<span class="navbar-logo"><svg id="Layer_4_copy" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1388 475.1" style="enable-background:new 0 0 1388 475.1"><style>.st0{fill:#3b8fce}.st1{fill:#262056}.st2{fill:#a1c429}.st3{fill:#fff}.st4{fill:url(#SVGID_1_)}.st5{opacity:.6;fill:url(#SVGID_2_)}.st6{filter:url(#Adobe_OpacityMaskFilter)}.st7{fill:url(#SVGID_4_)}.st8{mask:url(#SVGID_3_);fill:#fff}.st9{fill:#3f3f3e}</style><path class="st0" d="M122.1 231.7c0-15.7 3.6-30.5 9.9-43.8l-81.1-46.8c-22.9 43.5-28.5 93.3-15.7 141 13.5 50.3 45.7 92.3 90.8 118.3 29 16.7 56.9 24.9 89.6 26v-93.7C163.3 328.7 122.1 285.1 122.1 231.7z"/><path class="st1" d="M223.5 130.3c34.7.0 65.3 17.5 83.6 44.1l81.1-46.8c-35.6-56.2-98-90.8-164.9-90.8-34 0-67.6 9-97.3 26.1-29 16.7-50 36.8-67.3 64.6l81.1 46.8C158.2 147.8 188.8 130.3 223.5 130.3z"/><path class="st2" d="M396.1 141.1 315 188c6.3 13.2 9.9 28.1 9.9 43.7.0 53.3-41.2 97-93.5 101v93.7c103.8-4.1 187-89.9 187-194.7C418.4 198.2 411.5 170 396.1 141.1z"/><g><path class="st3" d="M223.5 231.7l-65.8-38c-21 36.4-8.5 82.9 27.8 103.9 12.1 7 24 10.2 38 10.2V231.7z"/></g><g><path class="st3" d="M223.5 231.7l65.8-38c-21-36.4-67.5-48.8-103.9-27.8-12.1 7-20.8 15.7-27.8 27.8l65.9 38z"/></g><g><path class="st3" d="M223.5 231.7v76c42 0 76-34 76-76 0-14-3.2-25.9-10.2-38L223.5 231.7z"/></g><g><radialGradient id="SVGID_1_" cx="223.5157" cy="231.6926" r="76.1085" gradientUnits="userSpaceOnUse"><stop offset="0" style="stop-color:#969695"/><stop offset="1" style="stop-color:#3f3f3e"/></radialGradient><path class="st4" d="M147.4 231.7c0-42 34.1-76.1 76.1-76.1s76.1 34.1 76.1 76.1-34.1 76.1-76.1 76.1C181.5 307.8 147.4 273.7 147.4 231.7z"/><linearGradient id="SVGID_2_" gradientUnits="userSpaceOnUse" x1="223.5157" y1="155.5859" x2="223.5157" y2="307.7993"><stop offset="0" style="stop-color:#fff"/><stop offset="1" style="stop-color:#3f3f3e"/></linearGradient><path class="st5" d="M147.4 231.7c0-42 34.1-76.1 76.1-76.1s76.1 34.1 76.1 76.1-34.1 76.1-76.1 76.1C181.5 307.8 147.4 273.7 147.4 231.7z"/><defs><filter id="Adobe_OpacityMaskFilter" filterUnits="userSpaceOnUse" x="177.2" y="172.1" width="92.7" height="59.5"><feColorMatrix type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"/></filter></defs><mask maskUnits="userSpaceOnUse" x="177.2" y="172.1" width="92.7" height="59.5" id="SVGID_3_"><g class="st6"><linearGradient id="SVGID_4_" gradientUnits="userSpaceOnUse" x1="220.0409" y1="123.6788" x2="220.0409" y2="238.3832"><stop offset="0" style="stop-color:#fff"/><stop offset="1" style="stop-color:#000"/></linearGradient><rect x="158.4" y="123.7" class="st7" width="123.3" height="114.7"/></g></mask><path class="st8" d="M177.2 201.9c0-16.5 20.7-29.8 46.3-29.8s46.3 13.3 46.3 29.8c0 16.4-20.7 29.8-46.3 29.8S177.2 218.4 177.2 201.9z"/></g><g><path class="st9" d="M549.7 146c42.6.0 62.7 24.3 62.7 24.3l-17.9 27.8s-17-17.6-42.6-17.6c-30.1.0-49.6 22.7-49.6 50.6.0 27.5 19.8 51.2 50.9 51.2 27.5.0 48-20.8 48-20.8l15.7 28.8s-23.4 26.5-67.2 26.5c-54.1.0-88.6-38.1-88.6-85.4C461.1 185 495.6 146 549.7 146z"/><path class="st9" d="M697.7 146c49.9.0 89.9 35.5 89.9 85.4.0 50.2-40 85.4-89.6 85.4-49.9.0-89.9-35.2-89.9-85.4C608.1 181.5 648.1 146 697.7 146zM698 282.3c26.3.0 48.3-20.5 48.3-50.9.0-30.1-22.1-50.9-48.3-50.9-26.6.0-48.6 20.8-48.6 50.9C649.4 261.8 671.5 282.3 698 282.3z"/><path class="st9" d="M796.6 149.8h39V178c0 6.1-.6 11.5-.6 11.5h.6c7.4-23.4 26.9-41.9 51.9-41.9 3.8.0 7.3.6 7.3.6v40s-4.2-.6-9.6-.6c-17.3.0-36.8 9.9-44.5 34.2-2.6 8-3.5 16.9-3.5 26.6V313h-40.6V149.8z"/><path class="st9" d="M904.2 105.4h40.7v47H982v32.3h-37.1v63.4c0 26.9 21.1 30.7 32.3 30.7 4.5.0 7.4-.6 7.4-.6v35.5s-4.8 1-12.5 1c-22.7.0-67.9-6.7-67.9-61.4V105.4z"/><path class="st9" d="M1065.5 146c47 0 72.3 34.2 72.3 77.4.0 4.8-1 15.7-1 15.7h-112.6c2.6 28.5 24.6 43.2 49 43.2 26.2.0 47.1-17.9 47.1-17.9l15.7 29.1s-25 23.4-65.6 23.4c-54.1.0-87.7-39-87.7-85.4C982.6 181.2 1016.9 146 1065.5 146zM1096.9 211.3c-.6-22.1-14.4-33.9-32.3-33.9-20.8.0-35.2 12.8-39 33.9H1096.9z"/><path class="st9" d="M1236 230.5l52.5-80.6h-46.1l-25.3 44.5c-2.6 4.2-5.4 10.2-5.4 10.2h-.6s-2.9-6.1-5.4-10.2l-25.3-44.5h-46.1l52.5 80.6L1133 313h45.1l28.5-47.4c2.3-3.5 4.5-8.6 4.5-8.6h.6s2.3 5.1 4.5 8.6l28.5 47.4h45.1L1236 230.5z"/><g><path class="st9" d="M1313.8 149.8c9.5.0 17.2 7.7 17.2 17.4.0 9.8-7.6 17.5-17.2 17.5-9.4.0-16.9-7.7-16.9-17.5C1296.8 157.6 1304.4 149.8 1313.8 149.8zM1313.8 182.1c8.2.0 14.4-6.5 14.4-14.9.0-8.3-6.2-14.8-14.4-14.8-8 0-14.1 6.5-14.1 14.8C1299.6 175.6 1305.8 182.1 1313.8 182.1zM1308.1 157.9h6.7c3.3.0 5.6 2.2 5.6 5.6.0 2.8-1.8 4.5-3.5 4.9v.1s.2.2.6 1.1l3.6 7.1h-3l-3.7-7.6h-3.6v7.6h-2.7V157.9zM1314.3 166.9c2 0 3.3-1.3 3.3-3.5.0-2.1-1.3-3.3-3.3-3.3h-3.5v6.8h3.5z"/></g></g></svg></span><span class="text-uppercase font-weight-bold">Cortex</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				<a id="documentation" class="nav-link" href="/docs/" ><span>Documentation</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a  class="nav-link" href="/blog/" ><span>Blog</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				<a id="community" class="nav-link" href="https://community.cortex.co.uk/" target="_blank" ><span>Community</span></a>
			</li>
			
			
			<li class="nav-item dropdown d-block pl-2">
				<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	Releases
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="http://v2022.docs.cortex-ia.com/">v2022 (latest)</a>
	
	<a class="dropdown-item" href="https://community.cortex.co.uk/">v7.2</a>
	
</div>

			</li>
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">



<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="/offline-search-index.3fa0c05e5accbbf0fd328901e1d1cefa.json"
  data-offline-search-base-href="/"
  data-offline-search-max-results="50"
>

</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This the multi-page printable view of this section.
<a href="#" onclick="print();return false;">Click here to print</a>.
</p><p>
<a href="/docs/getting-started/cloud/add-observability-to-innovation/">Return to the regular view of this page</a>.
</p>
</div>



<h1 class="title">Add Observability to Innovation</h1>
<div class="lead">Information about setting up an observability platform for Innovation.</div>




    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-d28e7bd78f75c547e3e6e237ecbd8c8c">Grafana Cloud</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>1.1: <a href="#pg-87ecce1a2b5d120819ca8800c9b0c07b">Architecture</a></li>


    
  
    
    
	
<li>1.2: <a href="#pg-4fb054030094e7ec4e6adf4ebf1520b5">Prerequisites</a></li>


    
  
    
    
	
<li>1.3: <a href="#pg-77c0fa1fbc42b661ae893b5884605137">Set up Grafana</a></li>


    
  
    
    
	
<li>1.4: <a href="#pg-40344a61cb927c5811e416b18b2ad020">Set up Grafana Loki</a></li>


    
  
    
    
	
<li>1.5: <a href="#pg-4436378197c816210667afbf03914a1f">Install Promtail</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>1.5.1: <a href="#pg-86715a9996d5d844372829f349027311">Install Promtail</a></li>


    
  
    
    
	
<li>1.5.2: <a href="#pg-8f9148fc99c897a223e74bddc54b0d43">Configure Promtail</a></li>


    
  

    </ul>
    
  
    
    
	
<li>1.6: <a href="#pg-97dc14701c51855fde9dd8f123c7ecd9">Import Dashboards</a></li>


    
  
    
    
	
<li>1.7: <a href="#pg-0aa151e9bafab5c1517a8b5ca02071c0">Try it Out</a></li>


    
  

    </ul>
    
  

    </ul>


<div class="content">
      
</div>
</div>


  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-d28e7bd78f75c547e3e6e237ecbd8c8c">1 - Grafana Cloud</h1>
    <div class="lead">Information about adding Grafana Cloud to Innovation, including details about components, supported architectures, prerequisites, installation and configuration instructions.</div>
	

<div class="pageinfo pageinfo-primary">
<p>For instructions on how to set up Grafana and Grafana Loki on-premise see <a href="/docs/getting-started/on-premise/add-observability-to-innovation/grafana/">Grafana on-premise</a>.</p>

</div>


</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-87ecce1a2b5d120819ca8800c9b0c07b">1.1 - Architecture</h1>
    <div class="lead">Information about the recommended architecture for a Grafana Cloud installation.</div>
	<h1 id="architecture">Architecture</h1>
<h2 id="components">Components</h2>
<table>
<thead>
<tr>
<th>Component</th>
<th>Purpose</th>
<th>Required/Optional</th>
<th>Server Role</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://grafana.com/grafana/">Grafana</a></td>
<td>Web application that provides querying and visualisation of data in the form of dashboards.</td>
<td>Required</td>
<td>Grafana Cloud managed service</td>
</tr>
<tr>
<td><a href="https://grafana.com/oss/loki/">Grafana Loki</a></td>
<td>Log aggregation system designed to store and query logs from applications and infrastructure.</td>
<td>Required</td>
<td>Grafana Cloud managed service</td>
</tr>
<tr>
<td><a href="https://grafana.com/docs/loki/latest/clients/promtail/">Promtail</a></td>
<td>An agent which ships the contents of local logs to a Grafana Loki instance. It should be deployed to every machine that has a Microsoft Service Fabric node used by Innovation.</td>
<td>Required</td>
<td>Application Server</td>
</tr>
</tbody>
</table>
<h2 id="recommended-architecture">Recommended Architecture</h2>
<p>The following architecture requires 1..n Application servers and 1 <a href="https://grafana.com/">Grafana Cloud</a> managed service.</p>

<figure>
    <img src=" /images/Grafana%20Platform%20Architecture%20Diagram%20-%20Cloud.svg "/> 
</figure>

<h2 id="next-steps">Next Steps?</h2>
<ol>
<li><a href="/docs/getting-started/cloud/add-observability-to-innovation/grafana/prerequisites">Prerequisites</a></li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-4fb054030094e7ec4e6adf4ebf1520b5">1.2 - Prerequisites</h1>
    <div class="lead">Information about the prerequisites required on each server type for installation.</div>
	<h1 id="prerequisites">Prerequisites</h1>
<p>The prerequisites required for each server role (as described in <a href="/docs/getting-started/cloud/add-observability-to-innovation/grafana/architecture">Architecture</a>) are laid out in this guide. These must be considered before undertaking the installation.</p>
<h2 id="hardware-requirements">Hardware Requirements</h2>
<p>The application servers (as described in <a href="/docs/getting-started/on-premise/install-innovation-only/multiple-server-with-ha/architecture">Architecture</a>) to which Promtail will be added have already been installed as part of the Innovation install process and do not require any hardware modifications for the observability platform installation.</p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    The application servers must have internet access in order to communicate with the Grafana Cloud managed service.

</div>

<h2 id="software-requirements">Software Requirements</h2>
<table>
<thead>
<tr>
<th>Server Role</th>
<th>Windows Server<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></th>
<th>Other Software</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Application Server</td>
<td><a href="https://www.microsoft.com/en-US/evalcenter/evaluate-windows-server-2019?filetype=ISO">2019 (x64)</a> <em>Recommended</em><br><a href="https://www.microsoft.com/en-US/evalcenter/evaluate-windows-server-2016?filetype=ISO">2016 (x64)</a></td>
<td><a href="https://github.com/grafana/loki/releases/download/v2.5.0/promtail-windows-amd64.exe.zip">Promtail 2.5.0</a></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="web-browser-requirements">Web Browser Requirements</h2>
<p>Grafana supports the latest versions of the following browsers:</p>
<ul>
<li>Chrome/Chromium</li>
<li>Firefox</li>
<li>Safari</li>
<li>Microsoft Edge</li>
</ul>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    Always enable JavaScript in your browser. Running Grafana without JavaScript enabled in the browser is not supported.

</div>

<h2 id="additional-application-server-requirements">Additional Application Server Requirements</h2>
<p>These requirements apply to each of the Application Servers.</p>
<h3 id="security-requirements">Security Requirements</h3>
<h4 id="installation-user">Installation User</h4>
<p>A domain user which is a member of the Local Administrators group on all Application Servers must be available to perform the installation.</p>
<h2 id="next-steps">Next Steps?</h2>
<ol>
<li><a href="/docs/getting-started/cloud/add-observability-to-innovation/grafana/setup-grafana">Set up Grafana</a></li>
</ol>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>Windows Server Standard and Datacenter editions are supported. Filesystem <strong>must be NTFS</strong> and networking <strong>must use IPv4</strong>. Linux is not supported, but may be in the future. <a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-77c0fa1fbc42b661ae893b5884605137">1.3 - Set up Grafana</h1>
    <div class="lead">Information about setting up Grafana in the cloud.</div>
	<h1 id="set-up-grafana">Set up Grafana</h1>
<h2 id="sign-up-for-grafana-cloud">Sign up for Grafana Cloud</h2>
<ol>
<li>
<p>Browse to <a href="https://grafana.com/">Grafana Labs</a>.</p>
</li>
<li>
<p>Find and click the link to create free account.</p>
</li>
<li>
<p>Review the terms and conditions as well as any agreements.</p>
</li>
<li>
<p>Create your account and follow any account verification steps.</p>
</li>
<li>
<p>If asked to start a free trial, do so.</p>
</li>
<li>
<p>On the <strong>Let&rsquo;s create your Grafana Stack</strong> dialog:</p>

<figure>
    <img src=" /images/Grafana%20Cloud%20-%20Create%20Stack.png "/> 
</figure>

<ul>
<li>Enter an appropriate <code>Team URL</code> which will be used as a customised link to access the Grafana Cloud.</li>
<li>Select the <code>Deployment region</code> which is where the service will be deployed to. This should be preferably close to the High Availability nodes.</li>
</ul>
</li>
<li>
<p>Wait for Grafana Cloud to load</p>
</li>
</ol>
<h2 id="next-steps">Next Steps?</h2>
<ol>
<li><a href="/docs/getting-started/cloud/add-observability-to-innovation/grafana/setup-loki/">Set up Grafana Loki</a></li>
</ol>
<!-- Other links -->

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-40344a61cb927c5811e416b18b2ad020">1.4 - Set up Grafana Loki</h1>
    <div class="lead">Information about setting up Grafana Loki in the cloud.</div>
	<h1 id="set-up-grafana-loki">Set up Grafana Loki</h1>
<p>This guide describes how to set up Grafana Loki in the cloud. Please ensure that the <a href="/docs/getting-started/cloud/add-observability-to-innovation/grafana/prerequisites">Prerequisites</a> have been completed before starting this installation.</p>
<h2 id="set-up-grafana-loki-1">Set up Grafana Loki</h2>
<ol>
<li>Browse to the <em>Team URL</em> created during <a href="/docs/getting-started/cloud/add-observability-to-innovation/grafana/setup-grafana/#sign-up-for-grafana-cloud">Sign Up For Grafana Cloud</a>.</li>
<li>Click the Lightening icon <img src="/images/GrafanaLighteningIcon.png" alt="Lightening Icon" title="Integrations and Connections Icon">.</li>
<li>Select <em>Integrations and Connections</em>.</li>
<li>In the <em>Add and manage Grafana Cloud integrations and connections</em> click on the <em>Hosted Logs</em>..

<figure>
    <img src=" /images/Grafana%20Cloud%20-%20Hosted%20Logs.png "/> 
</figure>
</li>
<li>In the <em>Choose your usecase</em> section select <em>Send logs from a standalone host</em>.

<figure>
    <img src=" /images/Grafana%20Cloud%20-%20Hosted%20Logs%20Config%20Usecase.png "/> 
</figure>
</li>
<li>Enter an <em>Api key name</em> in the <em>Configure promtail to send logs to your Grafana Cloud</em> section and click the <em>Create API key</em> button. <br>
The key name is used in the Grafana Cloud website to easily identify the key after its creation.

<figure>
    <img src=" /images/Grafana%20Cloud%20-%20Hosted%20Logs%20Config%20Key%20Name.png "/> 
</figure>
</li>
<li>Make a note of the value of the <em>url</em> in the <em>client</em> section of the example configuration. Ignore the instruction to copy and paste the whole content.

<figure>
    <img src=" /images/Grafana%20Cloud%20-%20Hosted%20Logs%20Config%20Data.png "/> 
</figure>
</li>
</ol>
<h2 id="next-steps">Next Steps?</h2>
<ol>
<li><a href="/docs/getting-started/cloud/add-observability-to-innovation/grafana/install-promtail/">Install Promtail</a></li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-4436378197c816210667afbf03914a1f">1.5 - Install Promtail</h1>
    <div class="lead">Information about installing and configuring Promtail on the Application Server(s).</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-86715a9996d5d844372829f349027311">1.5.1 - Install Promtail</h1>
    <div class="lead">Information about installing Promtail on the Application Server(s).</div>
	<h1 id="install-promtail">Install Promtail</h1>
<p>This guide describes how to install Promtail on the Application Server(s). Please ensure that the <a href="/docs/getting-started/cloud/add-observability-to-innovation/grafana/prerequisites">Prerequisites</a> have been completed before starting this installation.</p>
<h2 id="install-promtail-1">Install Promtail</h2>
<ol>
<li>Download <a href="https://github.com/grafana/loki/releases/download/v2.5.0/promtail-windows-amd64.exe.zip">Promtail 2.5.0</a> archive.</li>
<li>Extract content of the downloaded archive to a suitable location, e.g. <code>C:\Promtail</code>.</li>
<li>Download the <a href="https://github.com/CortexIntelligentAutomation/observability/releases/download/v1.0.0/Promtail.Install.zip">Promtail Install.zip</a> archive and extract its contents alongside the previously extracted Promtail <code>promtail-windows-amd64.exe</code>.
This archive contains the <code>promtail-local-config.yaml</code> configuration file, <a href="https://nssm.cc/">NSSM</a> (the Non-Sucking Service Manager program) and PowerShell scripts to help manage Promtail as a Windows service.</li>
<li>Run Windows PowerShell as Administrator</li>
<li>Change the location to where all the files were extracted to.</li>
<li>Execute the <code>.\Install-Promtail.ps1</code> command to install the downloaded <code>promtail-windows-amd64.exe</code> as a service.</li>
</ol>
<h2 id="next-steps">Next Steps?</h2>
<ol>
<li><a href="/docs/getting-started/cloud/add-observability-to-innovation/grafana/install-promtail/configure-promtail">Configure Promtail</a></li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-8f9148fc99c897a223e74bddc54b0d43">1.5.2 - Configure Promtail</h1>
    <div class="lead">Information about configuring Promtail on the Application Server(s).</div>
	<h1 id="configure-promtail">Configure Promtail</h1>
<p>This guide describes how to configure Promtail on the Application Server(s).</p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    These steps must be performed for every Promtail installation in the cluster.

</div>

<h2 id="configure-promtail-1">Configure Promtail</h2>
<h3 id="set-client-url-for-grafana-loki">Set Client URL for Grafana Loki</h3>
<ol>
<li>Open the <code>promtail-local-config.yaml</code> configuration file, which is located in the folder alongside the <code>promtail-windows-amd64.exe</code> file.</li>
<li>Replace the Grafana Loki <code>URL</code> template in the <code>clients</code> section with the <code>url</code> value noted down during <a href="/docs/getting-started/cloud/add-observability-to-innovation/grafana/setup-loki/#set-up-grafana-loki">Set Up Grafana Loki</a> steps.
A correct URL should be similar to <code>https://239948:eyJrIjoiaWVjNzE4MmVjOThkNTgxMMQ5MzIyZjdlMjAyYWY4NWJjO1I1OTc4NSIsIm4iOiJUZXN0S2V5IiwiaWQiOjY4Nzk0MX0=@logs-prod-008.grafana.net/api/prom/push</code>.</li>
<li>Save the file.</li>
</ol>
<h3 id="set-the-positionsyaml-file-path">Set the positions.yaml File Path</h3>
<ol>
<li>Open the <code>promtail-local-config.yaml</code> configuration file, which is located in the folder alongside the <code>promtail-windows-amd64.exe</code> file.</li>
<li>Set the <code>filename</code> in the <code>positions</code> section to the location where you want the <code>positions.yaml</code> file to be created on Promtail startup.</li>
<li>Create all the folders of the path specified in the previous step.</li>
<li>Save the file.</li>
</ol>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    If the specified path to the folder for the <code>positions.yaml</code> file doesn&rsquo;t exists, the file will not get created on Promtail startup.

</div>

<h3 id="set-the-path-to-the-cortex-api-gateway-service-log-files">Set the Path to the Cortex API Gateway Service Log Files</h3>
<ol>
<li>Open the <code>promtail-local-config.yaml</code> configuration file, which is located in the folder alongside the <code>promtail-windows-amd64.exe</code> file.</li>
<li>Set the <code>__path__</code> in the <code>static_configs</code> &gt; <code>targets</code> &gt; <code>labels</code> section to the path of the <code>Logs</code> folder specified in the <code>appSettings.json</code> file during installation of the Cortex API Gateway Service, e.g. <code>&quot;C:/ProgramData/Cortex/Cortex API Gateway Service/Logs/*.json&quot;</code>.</li>
<li>Save the file.</li>
</ol>
<h3 id="start-promtail">Start Promtail</h3>
<ol>
<li>Run Windows PowerShell as Administrator.</li>
<li>Change the location to the folder where the <code>promtail-windows-amd64.exe</code> file is located.</li>
<li>Execute the <code>.\Start-Promtail.ps1</code> command to start the Promtail Windows service.</li>
</ol>
<h2 id="next-steps">Next Steps?</h2>
<ol>
<li><a href="/docs/getting-started/cloud/add-observability-to-innovation/grafana/import-dashboards">Import Dashboards</a></li>
</ol>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-97dc14701c51855fde9dd8f123c7ecd9">1.6 - Import Dashboards</h1>
    <div class="lead">Information about setting up Grafana to communicate with the Cloud Grafana Loki as well as importing and configuring the default set of dashboards.</div>
	<h1 id="import-dashboards">Import Dashboards</h1>
<p>This guide describes where to get the default Cortex Innovation Dashboards from and how to import them for use in Grafana Cloud.</p>
<p>Please ensure that the set up for <a href="/docs/getting-started/cloud/add-observability-to-innovation/grafana/setup-grafana">Grafana</a> and <a href="/docs/getting-started/cloud/add-observability-to-innovation/grafana/setup-loki/">Loki</a> have been completed before starting this section.</p>
<h2 id="download-the-cortex-innovation-default-dashboards">Download the Cortex Innovation Default Dashboards</h2>
<ol>
<li>Download <a href="https://github.com/CortexIntelligentAutomation/observability/releases/download/v1.0.0/Grafana.Dashboards.zip">Grafana.Dashboards.zip</a> archive containing the Cortex Innovation default dashboards.</li>
<li>Extract the content of the downloaded archive to a suitable location.</li>
</ol>
<h2 id="create-folder-for-dashboards">Create Folder for Dashboards</h2>
<ol>
<li>Log in to Grafana Cloud with a user that has the <em>Admin</em> role.</li>
<li>Hover over the Dashboards icon <img src="/images/DashboardsIcon.png" alt="Dashboards Icon" title="Dashboards Icon"> in the side menu, and then click <em>+ New folder</em>.</li>
<li>Enter a folder name, e.g. <code>Cortex</code>.</li>
<li>Click <em>Create</em>.</li>
</ol>
<h2 id="import-dashboards-1">Import Dashboards</h2>
<ol>
<li>Log in to Grafana Cloud with a user that has the <em>Admin</em> role.</li>
<li>Hover over the Dashboards icon <img src="/images/DashboardsIcon.png" alt="Dashboards Icon" title="Dashboards Icon"> in the side menu, and then click <em>Import</em>.</li>
<li>Click the <em>Upload JSON file</em> button.</li>
<li>Locate the <code>Flow Execution Requests.json</code> file extracted from the downloaded <code>Grafana.Dashboards.zip</code>.</li>
<li>Select the file and click <em>Open</em>.</li>
<li>Select the folder in Grafana you wish the dashboard to be saved in, e.g. <em>Cortex</em>.</li>
<li>Select your configured Loki data source from the dropdown menu.</li>
<li>Click <em>Import</em>.</li>
<li>Repeat steps 2 - 8 for the <code>Platform Health.json</code> file.</li>
</ol>
<h2 id="configure-data-sources">Configure Data Sources</h2>
<p>It is necessary to update the Custom Filter inside the dashboards to use the correct data source.</p>
<p>To do this, follow these steps for all default Cortex Innovation dashboards imported:</p>
<ol>
<li>Log in to Grafana Cloud with a user that has the <em>Admin</em> role.</li>
<li>To open a dashboard:
<ol>
<li>Hover over the Dashboards icon <img src="/images/DashboardsIcon.png" alt="Dashboards Icon" title="Dashboards Icon"> in the side menu, and then click <em>Browse</em>.</li>
<li>Click the folder name that the dashboards were imported to.</li>
<li>Click the <em>Flow Execution Requests</em> dashboard to open it.</li>
</ol>
</li>
<li>Open the Dashboard Settings menu via the cog icon in the top right side of the dashboard.</li>
<li>Click <em>Variables</em> on the left-hand side of the page.</li>
<li>Click <em>Custom Filter</em> in the <em>Variables</em> list.</li>
<li>Select your configured Loki data source in the <em>Options</em> &gt; <em>Data source</em> drop-down menu.</li>
<li>Click <em>Update</em>.</li>
<li>Click the back button on the top left corner of the page to go back to the dashboard.</li>
<li>Click the + icon next to the Custom Filter to confirm that a list of available filter options is visible. If Grafana Loki has not received any logs from Promtail there will be no options available for selection.</li>
<li>Repeat steps 2 - 9 for the <em>Platform Health</em> dashboard.</li>
</ol>
<h2 id="next-steps">Next Steps?</h2>
<ol>
<li><a href="/docs/getting-started/cloud/add-observability-to-innovation/grafana/try-it-out/">Try it Out</a></li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-0aa151e9bafab5c1517a8b5ca02071c0">1.7 - Try it Out</h1>
    <div class="lead">Information about trying out Grafana Observability Dashboards for the first time.</div>
	<h1 id="try-it-out">Try it Out</h1>
<h2 id="check-dashboards-are-displaying-data">Check Dashboards are Displaying Data</h2>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    This test uses the test flow published as part of testing the Innovation installation. See <a href="/docs/getting-started/on-premise/install-innovation-only/multiple-server-with-ha/try-it-out/#test-publishing-production-flows">Testing HA installation</a> or <a href="/docs/getting-started/on-premise/install-innovation-only/single-server-without-ha/try-it-out/#test-publishing-production-flows">Testing non-HA installation</a>. An alternative flow can be used that exists on the system and can be executed.

</div>

<ol>
<li>
<p>Open an HTTP client, such as <a href="https://www.postman.com/downloads/">Postman</a>. Make a request with the following format:
| Property      | Value                                                                               |
|&mdash;&mdash;&mdash;&mdash;&mdash;|&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-|
| Action        | POST                                                                                |
| URL           | For HA installation use: <br /><code>https://{FQDN of Load Balancer Server}/api/default/default/flows/{Flow Name}/executions?packageName={Package Name}</code><br />e.g. <code>https://load-balancer&amp;#46;domain&amp;#46;com/api/default/default/flows/NewFlow/executions?packageName=NewPackage</code> <br /><br /> For non-HA installation use: <br /><code>https://{FQDN of server}:8722/api/default/default/flows/{Flow Name}/executions?packageName={Package Name}</code><br />e.g. <code>https://server&amp;#46;domain&amp;#46;com:8722/api/default/default/flows/NewFlow/executions?packageName=NewPackage</code>|
| Content Type  | application/json                                                                    |
| Body          | {}                                                                                  |
| Authentication| Basic                                                                               |
| Username      | The value used for <code>ApiGatewayBasicAuthUserName</code> when installing Application Services. See <a href="/docs/getting-started/on-premise/install-innovation-only/multiple-server-with-ha/install-application-and-loadbalancer-servers#configure-installation-script">HA Installation script configuration</a> or <a href="/docs/getting-started/on-premise/install-innovation-only/single-server-without-ha/install-application-server#configure-installation-script">Non-HA Installation script configuration</a> for the value specified.|
| Password      | The value used for <code>ApiGatewayBasicAuthPwd</code> when installing Application Services (Unencrypted). See <a href="/docs/getting-started/on-premise/install-innovation-only/multiple-server-with-ha/install-application-and-loadbalancer-servers#configure-installation-script">HA Installation script configuration</a> or <a href="/docs/getting-started/on-premise/install-innovation-only/single-server-without-ha/install-application-server#configure-installation-script">Non-HA Installation script configuration</a> for the value specified.|</p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    If you used self-signed certificates when installing the Application Servers you may need to disable SSL certificate validation in your HTTP client.

</div>

</li>
<li>
<p>Once the request has completed, using a web browser, log in to your configured Grafana.</p>
</li>
<li>
<p>Click the Dashboards icon <img src="/images/DashboardsIcon.png" alt="Dashboards Icon" title="Dashboards Icon"> in the side menu, and then click <em>Browse</em>.</p>
</li>
<li>
<p>Click the folder name that the dashboards were imported to.</p>
</li>
<li>
<p>Click the <em>Flow Execution Requests</em> dashboard to open it.</p>
</li>
<li>
<p>The request made at step 1 should be visible on the dashboard.


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    If other requests have been made then there may be more than one request visible on the dashboard.

</div>
</p>
</li>
<li>
<p>Click the Dashboards icon <img src="/images/DashboardsIcon.png" alt="Dashboards Icon" title="Dashboards Icon"> in the side menu, and then click <em>Browse</em>.</p>
</li>
<li>
<p>Click the folder name that the dashboards were imported to.</p>
</li>
<li>
<p>Click the <em>Platform Health</em> dashboard to open it.</p>
</li>
<li>
<p>The request made at step 1 should be visible on the dashboard.


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    If other requests have been made then there may be more than one request visible on the dashboard.

</div>
</p>
</li>
</ol>

</div>



    
	
  

    
	
  



          </main>
        </div>
      </div>
      

<footer class="bg-dark row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-12 col-sm-12 text-center py-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://twitter.com/cortex_software">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Facebook" aria-label="Facebook">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://www.facebook.com/cortexintelligentautomation/">
      <i class="fab fa-facebook"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Vimeo" aria-label="Vimeo">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://vimeo.com/cortexautomationsoftware">
      <i class="fab fa-vimeo"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="LinkedIn" aria-label="LinkedIn">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/company/10975051">
      <i class="fab fa-linkedin"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="YouTube" aria-label="YouTube">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://www.youtube.com/channel/UCZwlagVEozhAjmUySYx8YlA">
      <i class="fab fa-youtube"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
    </div>
    <div class="row">
      <div class="col-6 col-sm-6 text-xs-center order-sm-1">
        
        
        
<ul class="list-unstyled">
  
  <li data-toggle="tooltip" data-placement="top" aria-label="Privacy Policy">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://www.cortex-ia.com/gdpr-privacy-policy/">
      Privacy Policy
    </a>
  </li>
  
  <li data-toggle="tooltip" data-placement="top" aria-label="Terms and Conditions">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://www.cortex-ia.com/terms-conditions/">
      Terms and Conditions
    </a>
  </li>
  
  <li data-toggle="tooltip" data-placement="top" aria-label="Disclaimer">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://www.cortex-ia.com/disclaimer/">
      Disclaimer
    </a>
  </li>
  
  <li data-toggle="tooltip" data-placement="top" aria-label="Registration Number: 05023238">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://find-and-update.company-information.service.gov.uk/company/05023238">
      Registration Number: 05023238
    </a>
  </li>
  
  <li data-toggle="tooltip" data-placement="top" aria-label="VAT Number: GB204612157">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://www.tax.service.gov.uk/check-vat-number/enter-vat-details">
      VAT Number: GB204612157
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-6 text-right text-xs-center order-sm-2"> 
        <ul class="list-unstyled">
          
            
  <li class="text-white" data-toggle="tooltip" data-placement="top" aria-label="22 Kings Park Road">
      22 Kings Park Road
  </li>

            
  <li class="text-white" data-toggle="tooltip" data-placement="top" aria-label="Southampton, SO15 2AT">
      Southampton, SO15 2AT
  </li>

            
  <li class="text-white" data-toggle="tooltip" data-placement="top" aria-label="&#43;44 23 8254 8990">
      &#43;44 23 8254 8990
  </li>

            
  <li class="text-white" data-toggle="tooltip" data-placement="top" aria-label="info@cortex-ia.com">
      info@cortex-ia.com
  </li>

            
  <li class="text-white" data-toggle="tooltip" data-placement="top" aria-label="Southampton, SO15 2AT">
      Southampton, SO15 2AT
  </li>

          
        </ul>
      </div>
    </div>
    <div class="row">
      <div class="col-12 col-sm-12 text-center order-sm-1 copyright-container">
        Copyright &copy; 2022 Cortex Limited. All Rights Reserved
	
      </div>
    </div>
  </div>
</footer>






    </div>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>













<script src="/js/main.min.f820bfc507c3ebefe17f8881ec4ee10013f3b89ad9555a50acf9bb1771e6823f.js" integrity="sha256-&#43;CC/xQfD6&#43;/hf4iB7E7hABPzuJrZVVpQrPm7F3Hmgj8=" crossorigin="anonymous"></script>




  </body>
</html>
